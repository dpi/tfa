services:
  plugin.manager.tfa:
    class: Drupal\tfa\TfaPluginManager
    parent: default_plugin_manager
  tfa.route_subscriber:
    class: Drupal\tfa\Routing\TfaRouteSubscriber
    tags:
      - { name: event_subscriber }

  tfa.user_has_tfa.default:
    class: Drupal\tfa\EventSubscriber\TfaDefaultUserHasTfaSubscriber
    arguments:
      - '@config.factory'
      - '@user.data'
      - '@plugin.manager.tfa'
    tags:
      - { name: event_subscriber }
